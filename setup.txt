########## OSX
##########
# install homebrew
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

# brew install
brew install htop xtitle mosh
brew install vim --with-override-system-vi --with-python3 --with-luajit
brew install colordiff ripgrep vim cscope neovim sift fzf xz stow global telnet highlight mas the_silver_searcher
sudo pip3 install neovim

# Switch iTerm to Solarized Dark and update
# Selection backgroun 073642 -> eee8d5
# Cursor color        839496 -> fdf6e3

# Add objc to highlight
# edit /usr/local/etc/highlight/filetypes.conf
# Add:  { Lang="objc", Extensions={"m"} },

########## EL7
##########
# EPEL
sudo yum install epel-release
# emacs repo
URL=https://copr.fedorainfracloud.org/coprs/outman/emacs/repo/epel-7/outman-emacs-epel-7.repo
curl -# -m 8 $URL -o /etc/yum.repos.d/emacs.repo
yum update emacs-nox
# Packages
sudo yum install colordiff cscope neovim stow global highlight the_silver_searcher emacs-nox ctags
sudo yum install python2-pip pythong34-devel python34-pip
sudo pip3 install typing neovim

########## Ubuntu 16.04
##########
sudo apt install build-essential global emacs git silversearcher-ag vim cscope zsh highlight curl

# install neovim
sudo apt install software-properties-common
sudo add-apt-repository ppa:neovim-ppa/stable
sudo apt update
sudo apt install neovim python-dev python-pip python3-dev python3-pip lua-nvim
pip3 install neovim
sudo update-alternatives --install /usr/bin/vi vi /usr/bin/nvim 60
sudo update-alternatives --config vi
sudo update-alternatives --install /usr/bin/vim vim /usr/bin/nvim 60
sudo update-alternatives --config vim
sudo update-alternatives --install /usr/bin/editor editor /usr/bin/nvim 60
sudo update-alternatives --config editor

# Update VISUDO
sudo visudo
    # Add "hunter ALL = NOPASSWD: ALL"

# For VMWare
sudo apt install open-vm-tools open-vm-tools-desktop
sudo mkdir /mnt/hgfs
sudo mount -t fuse.vmhgfs-fuse .host:/ /mnt/hgfs -o allow_other
sudo vi /etc/fstab
    # Add ".host:/ /mnt/hgfs fuse.vmhgfs-fuse allow_other 0 0"


########## Raspberry Pi
##########
sudo apt install build-essential global emacs git silversearcher-ag vim cscope zsh highlight stow colordiff tmux neovim


########## Setup tools
##########
# Setup neovim
mkdir .vim
mkdir .config
ln -s ~/.vim ~/.config/nvim
ln -s ~/.vimrc ~/.config/nvim/init.vim

# Install dein
curl https://raw.githubusercontent.com/Shougo/dein.vim/master/bin/installer.sh > installer.sh
sh ./installer.sh ~/.vim/dein
rm installer.sh

# Install oh-my-zsh
sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
./install.sh
rm install.sh

# Install powerlevel9k
git clone https://github.com/romkatv/powerlevel10k ~/.oh-my-zsh/custom/themes/powerlevel10k

# Install zsh-syntax-highlighting
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ~/.oh-my-zsh/custom/plugins/zsh-syntax-highlighting

# Stow
git clone https://github.com/HunterWare/dotfiles .dotfiles
cd .dotfiles
mv ~/.bashrc ~/.bashrc.orig
mv ~/.zshrc ~/.zshrc.orig
stow bash emacs tmux vim zsh

# Fix solarized theme
patch -p1 ~/.emacs.d/elpa/color-theme-solarized-20171024.825/solarized-definitions.el < solarized-definitions.el.diff


########## Extra Stuff
##########
# neovim
sudo apt-get install ninja-build gettext libtool libtool-bin autoconf automake cmake g++ pkg-config unzip
mkdir ~/tools && cd ~/tools
git clone https://github.com/neovim/neovim.git
cd neovim
make CMAKE_BUILD_TYPE=RelWithDebInfo
sudo make install
